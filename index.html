<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-0463493221079646">
    <meta name="description" content="Estimate the time needed to eliminate a target in games, considering damage, fire rate, and more. Free, online, and in English 2025!">  
    <meta name="keywords" content="ttk calculator, time to kill calculator, ttk tool gaming, shooter ttk simulator, calculadora ttk, tiempo para matar herramienta, simulador ttk español, ttk juegos 2025, best ttk calculator free, ttk calculator online, game dev ttk tool, herramienta ttk gratis">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is a TTK calculator?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A TTK (Time To Kill) calculator estimates the time required to eliminate a target in games, considering damage, fire rate, and more."
          }
        },
        {
          "@type": "Question",
          "name": "How to use the TTK Calculator Pro?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Enter values such as damage, fire rate, and target health, then click 'Calculate TTK' to see results and charts."
          }
        }
      ]
    }
    </script>
    <title>TTK Calculator Pro - Free Online Time to Kill Calculator 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0463493221079646" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: #1e1e1e;
            color: #ddd;
            text-align: center;
        }
        h1 { font-size: 28px; color: #00ccff; }
        h2 { font-size: 20px; color: #00ff99; margin: 10px 0; }
        .section {
            margin: 20px 0;
            padding: 15px;
            background: #2a2a2a;
            border-radius: 8px;
        }
        .input-group {
            display: inline-block;
            margin: 10px;
            vertical-align: top;
        }
        label { display: block; margin-bottom: 5px; color: #bbb; }
        input, select {
            padding: 8px;
            width: 80px;
            font-size: 14px;
            border: 1px solid #444;
            border-radius: 4px;
            background: #333;
            color: #fff;
        }
        button {
            padding: 10px 20px;
            background: #00ccff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0099cc; }
        #resetBtn { background: #ff4444; }
        #resetBtn:hover { background: #cc3333; }
        #result { margin: 20px 0; font-size: 20px; color: #00ff99; }
        #theoreticalTTK { font-size: 16px; color: #ffcc00; margin-top: 10px; }
        #stats { font-size: 14px; color: #ddd; margin-top: 10px; text-align: left; display: inline-block; }
        #chartExplanation { font-size: 14px; color: #bbb; margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto; }
        .donate a { color: #00ccff; font-weight: bold; text-decoration: none; }
        @media (max-width: 500px) {
            input, select { width: 60px; }
            .input-group { margin: 5px; }
            h1 { font-size: 22px; }
        }
        canvas {
            width: 70vw; /* 80% del ancho de la ventana */
            height: 70vh; /* 80% del alto de la ventana */
            min-width: 300px; /* No más chico que 300px en pantallas pequeñas */
            min-height: 300px; /* Alto mínimo para legibilidad */
            max-width: 1080px; /* Límite superior para pantallas enormes */
            max-height: 800px; /* Límite superior para no exagerar */
            margin: 20px auto; /* Centrado con espacio */
            display: block; /* Evita problemas de inline */
        }
        a:visited {
            color: #ff9900;
        }
        footer {
            background: #2a2a2a;
            padding: 15px 0px;
            text-align: center;
            position: relative;
            bottom: 0;
            width: 100%;
            border-top: 1px solid #00ccff;
        }
        footer p {
            margin: 0;
            font-size: 16px;
            color: #bbb;
        }
        footer a {
            color: #00ff99;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
        }
        footer a:hover {
            color: #1e1e1e;
            background: #00ff99;
            padding: 5px 10px;
            border-radius: 4px;
            box-shadow: 0 0 10px #00ff99;
        }
    </style>
    
</head>
<body>
    <h1>TTK Calculator Pro</h1>
    <p>Calculate Time to Kill (TTK) with damage, accuracy, armor, regeneration, and more. Includes charts and JSON export!</p>
    <div class="section">
        <h2>Shooter</h2>
        <div class="input-group">
            <label>Accuracy (%):</label>
            <input type="number" id="accuracy" min="0" max="100" value="100">
        </div>
        <div class="input-group">
            <label>Spread Reduction (%):</label>
            <input type="number" id="spreadReduction" min="0" max="100" value="0">
        </div>
        <div class="input-group">
            <label>Damage Boost (%):</label>
            <input type="number" id="damageBoost" min="0" value="0">
        </div>
        <div class="input-group">
            <label>Fire Rate Boost (%):</label>
            <input type="number" id="fireRateBoost" min="0" value="0">
        </div>
        <div class="input-group">
            <label>Reload Reduction (%):</label>
            <input type="number" id="reloadReduction" min="0" max="100" value="0">
        </div>
        <div class="input-group">
            <label>Ammo Boost (%):</label>
            <input type="number" id="ammoBoost" min="0" value="0">
        </div>
    </div>
    <div class="section">
        <h2>Weapon</h2>
        <div class="input-group">
            <label>Damage:</label>
            <input type="number" id="damage" min="1" value="10">
        </div>
        <div class="input-group">
            <label>Fire Rate:</label>
            <input type="number" id="fireRate" min="1" value="60">
            <select id="fireRateUnit">
                <option value="rpm">RPM</option>
                <option value="rps">RPS</option>
            </select>
        </div>
        <div class="input-group">
            <label>Spread (grades):</label>
            <input type="number" id="spread" min="0" value="0">
        </div>
        <div class="input-group">
            <label>Clip Ammo:</label>
            <input type="number" id="clipAmmo" min="1" value="30">
        </div>
        <div class="input-group">
            <label>Reload Time (s):</label>
            <input type="number" id="reloadTime" min="0" step="0.1" value="2">
        </div>
    </div>
    <div class="section">
        <h2>Target</h2>
        <div class="input-group">
            <label>Distance (m):</label>
            <input type="number" id="distance" min="0" value="10">
        </div>
        <div class="input-group">
            <label>Width (m):</label>
            <input type="number" id="width" min="0" step="0.1" value="0.5">
        </div>
        <div class="input-group">
            <label>Height (m):</label>
            <input type="number" id="height" min="0" step="0.1" value="1.8">
        </div>
        <div class="input-group">
            <label>Health (HP):</label>
            <input type="number" id="hp" min="1" value="100">
        </div>
        <div class="input-group">
            <label>Armor:</label>
            <input type="number" id="armor" min="0" value="0">
        </div>
        <div class="input-group">
            <label>Armor Absorption (%):</label>
            <input type="number" id="armorAbsorption" min="0" max="100" value="0">
        </div>
        <div class="input-group">
            <label>Health Regen (HP/s):</label>
            <input type="number" id="healthRegen" min="0" step="0.1" value="0">
        </div>
        <div class="input-group">
            <label>Armor Regen (/s):</label>
            <input type="number" id="armorRegen" min="0" step="0.1" value="0">
        </div>
        <div class="input-group">
            <label>Damage Reduction (%):</label>
            <input type="number" id="damageReduction" min="0" max="100" value="0">
        </div>
    </div>
    <button onclick="calculateTTK()">Calculate TTK</button>
    <button onclick="exportResults()">Export JSON</button>
    <button id="resetBtn" onclick="resetData()">Reset Data</button>
    <div id="result"></div>
    <div id="theoreticalTTK"></div>
    <div id="stats"></div>
    <canvas id="ttkChart"></canvas>
    <div id="chartExplanation"></div>
    <div class="donate">
        <p>Did you find this useful?  <a href="https://buymeacoffee.com/genio043" target="_blank">Buy me a tea :)</a></p>
    </div>
    
    <script>
        let chart;
        // Shooter
        document.getElementById("accuracy").oninput = function() {calculateTTK()};
        document.getElementById("spreadReduction").oninput = function() {calculateTTK()};
        document.getElementById("damageBoost").oninput = function() {calculateTTK()};
        document.getElementById("fireRateBoost").oninput = function() {calculateTTK()};
        document.getElementById("reloadReduction").oninput = function() {calculateTTK()};
        document.getElementById("ammoBoost").oninput = function() {calculateTTK()};

        // Weapon
        document.getElementById("damage").oninput = function() {calculateTTK()};
        document.getElementById("fireRate").oninput = function() {calculateTTK()};
        document.getElementById("fireRateUnit").oninput = function() {calculateTTK()};
        document.getElementById("spread").oninput = function() {calculateTTK()};
        document.getElementById("clipAmmo").oninput = function() {calculateTTK()};
        document.getElementById("reloadTime").oninput = function() {calculateTTK()};

        // Target
        document.getElementById("distance").oninput = function() {calculateTTK()};
        document.getElementById("width").oninput = function() {calculateTTK()};
        document.getElementById("height").oninput = function() {calculateTTK()};
        document.getElementById("hp").oninput = function() {calculateTTK()};
        document.getElementById("armor").oninput = function() {calculateTTK()};
        document.getElementById("armorAbsorption").oninput = function() {calculateTTK()};
        document.getElementById("healthRegen").oninput = function() {calculateTTK()};
        document.getElementById("armorRegen").oninput = function() {calculateTTK()};
        document.getElementById("damageReduction").oninput = function() {calculateTTK()};
        
        function calculateTTK() {
            // Shooter
            const accuracy = parseFloat(document.getElementById('accuracy').value) / 100;
            const spreadReduction = parseFloat(document.getElementById('spreadReduction').value) / 100;
            const damageBoost = parseFloat(document.getElementById('damageBoost').value) / 100;
            const fireRateBoost = parseFloat(document.getElementById('fireRateBoost').value) / 100;
            const reloadReduction = parseFloat(document.getElementById('reloadReduction').value) / 100;
            const ammoBoost = parseFloat(document.getElementById('ammoBoost').value) / 100;

            // Weapon
            const damage = parseFloat(document.getElementById('damage').value);
            let fireRate = parseFloat(document.getElementById('fireRate').value);
            const fireRateUnit = document.getElementById('fireRateUnit').value;
            const spread = parseFloat(document.getElementById('spread').value);
            let clipAmmo = Math.round(parseFloat(document.getElementById('clipAmmo').value) * (1 + ammoBoost));
            let reloadTime = parseFloat(document.getElementById('reloadTime').value) * (1 - reloadReduction);

            // Target
            const distance = parseFloat(document.getElementById('distance').value);
            const width = parseFloat(document.getElementById('width').value);
            const height = parseFloat(document.getElementById('height').value);
            const hp = parseFloat(document.getElementById('hp').value);
            const armor = parseFloat(document.getElementById('armor').value);
            const armorAbsorption = parseFloat(document.getElementById('armorAbsorption').value) / 100;
            const healthRegen = parseFloat(document.getElementById('healthRegen').value);
            const armorRegen = parseFloat(document.getElementById('armorRegen').value);
            const damageReduction = parseFloat(document.getElementById('damageReduction').value) / 100;

            // Validation
            if (damage <= 0 || fireRate <= 0 || clipAmmo <= 0 || hp <= 0) {
                document.getElementById('result').innerHTML = "Invalid values (must be > 0).";
                document.getElementById('theoreticalTTK').innerHTML = "";
                document.getElementById('stats').innerHTML = "";
                return;
            }

            // Convert fire rate to RPS
            if (fireRateUnit === 'rpm') fireRate /= 60;
            fireRate *= (1 + fireRateBoost);

            // Hit chance per spread
            const effectiveSpread = spread * (1 - spreadReduction);
            const hitChance = effectiveSpread === 0 ? 1 : Math.min(1, (Math.atan2(width, distance) * Math.atan2(height, distance)) / (effectiveSpread * Math.PI / 180));

            // effective Damage
            const baseDamage = damage * (1 + damageBoost) * (1 - damageReduction);
            const effectiveDamage = baseDamage * (1 - armorAbsorption) * accuracy * hitChance;
            const dps = effectiveDamage * fireRate;

            // theoretica lTTK
            const netDamagePerSecond = dps - (healthRegen + armorRegen * (1 - armorAbsorption));
            const theoreticalTTK = netDamagePerSecond <= 0 ? "∞" : ((hp + armor) / netDamagePerSecond).toFixed(2);
            document.getElementById('theoreticalTTK').innerHTML = `TTK Teórico: ${theoreticalTTK} ${theoreticalTTK === "∞" ? "" : "segundos"}`;

            // Chart and stats simulation (until 60s)
            let currentHP = hp;
            let currentArmor = armor;
            let time = 0;
            let shotsFired = 0;
            let secondsFiring = 0;
            let secondsReloading = 0;
            let shotCount = 0;
            let reloadCount = 0;
            let totalDamage = 0;
            const dataPoints = [{ time: 0, hp: currentHP, armor: currentArmor }];
            const timeStep = 0.1;

            while (currentHP > 0 && time < 60) {
                time += timeStep;
                secondsFiring += timeStep;
                shotsFired += fireRate * timeStep;
                shotCount += fireRate * timeStep;

                if (shotsFired >= clipAmmo) {
                    secondsReloading += reloadTime;
                    time += reloadTime;
                    shotsFired -= clipAmmo;
                    reloadCount++;
                }

                const damagePerStep = effectiveDamage * fireRate * timeStep;
                totalDamage += damagePerStep;
                currentArmor = Math.max(0, Math.min(armor, currentArmor + armorRegen * timeStep - damagePerStep));
                const damageToHP = Math.max(0, damagePerStep - (armorRegen * timeStep + currentArmor));
                currentHP = Math.max(0, currentHP + healthRegen * timeStep - damageToHP);

                dataPoints.push({ time: time.toFixed(2), hp: currentHP, armor: currentArmor });
            }

            const ttk = currentHP <= 0 ? dataPoints[dataPoints.length - 1].time : "Not kill";
            document.getElementById('result').innerHTML = `TTK (until 60s): ${ttk} seconds`;

            // Estadísticas detalladas
            const effectiveAccuracy = (accuracy * hitChance * 100).toFixed(2);
            const sustainedDPS = totalDamage / (secondsFiring + secondsReloading);
            const burstDPS = effectiveDamage * fireRate;
            document.getElementById('stats').innerHTML = `
                Seconds Firing: ${secondsFiring.toFixed(2)} s<br>
                Seconds Reloading: ${secondsReloading.toFixed(2)} s<br>
                Shot count: ${Math.round(shotCount)}<br>
                Reload count: ${reloadCount}<br>
                Effective Accuracy: ${effectiveAccuracy}%<br>
                Sustained DPS: ${sustainedDPS.toFixed(2)}<br>
                Burst DPS: ${burstDPS.toFixed(2)}<br>
                Total Damage: ${totalDamage.toFixed(2)}
            `;

            drawChart(dataPoints);
        }

        function drawChart(dataPoints) {
            const ctx = document.getElementById('ttkChart').getContext('2d');
            if (chart) chart.destroy();
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: dataPoints.map(d => d.time),
                    datasets: [
                        { label: 'Health (HP)', data: dataPoints.map(d => d.hp), borderColor: '#00ff99', fill: false },
                        { label: 'Armor', data: dataPoints.map(d => d.armor), borderColor: '#ffcc00', fill: false }
                    ]
                },
                options: {
                    scales: {
                        y: { beginAtZero: true, title: { display: true, text: 'Value', color: '#ddd' } },
                        x: { title: { display: true, text: 'Time (s)', color: '#ddd' } }
                    },
                    plugins: { legend: { labels: { color: '#ddd' } } }
                }
            });
            document.getElementById('chartExplanation').innerHTML = "Chart: Displays health (green) and armor (yellow) up to 60s. Theoretical TTK gives the actual time or infinity.";
        }

        function exportResults() {
            const data = {
                shooter: {
                    accuracy: document.getElementById('accuracy').value,
                    spreadReduction: document.getElementById('spreadReduction').value,
                    damageBoost: document.getElementById('damageBoost').value,
                    fireRateBoost: document.getElementById('fireRateBoost').value,
                    reloadReduction: document.getElementById('reloadReduction').value,
                    ammoBoost: document.getElementById('ammoBoost').value
                },
                gun: {
                    damage: document.getElementById('damage').value,
                    fireRate: document.getElementById('fireRate').value,
                    fireRateUnit: document.getElementById('fireRateUnit').value,
                    spread: document.getElementById('spread').value,
                    clipAmmo: document.getElementById('clipAmmo').value,
                    reloadTime: document.getElementById('reloadTime').value
                },
                target: {
                    distance: document.getElementById('distance').value,
                    width: document.getElementById('width').value,
                    height: document.getElementById('height').value,
                    hp: document.getElementById('hp').value,
                    armor: document.getElementById('armor').value,
                    armorAbsorption: document.getElementById('armorAbsorption').value,
                    healthRegen: document.getElementById('healthRegen').value,
                    armorRegen: document.getElementById('armorRegen').value,
                    damageReduction: document.getElementById('damageReduction').value
                },
                ttk: document.getElementById('result').textContent,
                theoreticalTTK: document.getElementById('theoreticalTTK').textContent,
                stats: document.getElementById('stats').textContent
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ttk_results.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        function resetData() {
            document.getElementById('accuracy').value = 100;
            document.getElementById('spreadReduction').value = 0;
            document.getElementById('damageBoost').value = 0;
            document.getElementById('fireRateBoost').value = 0;
            document.getElementById('reloadReduction').value = 0;
            document.getElementById('ammoBoost').value = 0;

            document.getElementById('damage').value = 10;
            document.getElementById('fireRate').value = 60;
            document.getElementById('fireRateUnit').value = 'rpm';
            document.getElementById('spread').value = 0;
            document.getElementById('clipAmmo').value = 30;
            document.getElementById('reloadTime').value = 2;

            document.getElementById('distance').value = 10;
            document.getElementById('width').value = 0.5;
            document.getElementById('height').value = 1.8;
            document.getElementById('hp').value = 100;
            document.getElementById('armor').value = 0;
            document.getElementById('armorAbsorption').value = 0;
            document.getElementById('healthRegen').value = 0;
            document.getElementById('armorRegen').value = 0;
            document.getElementById('damageReduction').value = 0;

            document.getElementById('result').innerHTML = '';
            document.getElementById('theoreticalTTK').innerHTML = '';
            document.getElementById('stats').innerHTML = '';
            if (chart) chart.destroy();
            document.getElementById('chartExplanation').innerHTML = '';
        }
    </script>
    <footer><p>Back to <a href="https://genio043.github.io/">Genio043's Tools</a></p></footer>
</body>
</html>
